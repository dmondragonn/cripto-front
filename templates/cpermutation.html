<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Cifrado de permutación</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&family=Open+Sans&display=swap"
      rel="stylesheet"
    />
    <link href="../static/css/bootstrap.min.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <link href="../static/css/templatemo-topic-listing.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
  </head>

  

  

  <body id="top">
    <main>
      <nav class="navbar navbar-expand-lg">
        <div class="container">
          <a class="navbar-brand" href="{{ url_for('index') }}">
            <i class="bi bi-person-lock"></i>
            <span>CryptoPlayground</span>
          </a>

          <div class="d-lg-none ms-auto me-4">
            <a href="#top" class="navbar-icon bi-person smoothscroll"></a>
          </div>

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-lg-5 me-lg-auto">
              <li class="nav-item">
                <a class="nav-link click-scroll" href="/">Inicio</a
                >
              </li>

              <li class="nav-item">
                <a class="nav-link click-scroll" href="/"
                  >Explorar cifrados</a
                >
              </li>

              <li class="nav-item">
                <a class="nav-link click-scroll" href="/ #section_3"
                  >Cómo funciona</a
                >
              </li>

              <li class="nav-item">
                <a class="nav-link click-scroll" href="{{ url_for('contact') }}">Nosotros</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

        <header
          class="site-header d-flex flex-column justify-content-center align-items-center"
        >
          <div class="container">
            <div class="row justify-content-center align-items-center">
              <div class="col-lg-5 col-12 mb-5">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                      <a href="{{ url_for('index') }}">Inicio</a>

                    <li class="breadcrumb-item active" aria-current="page">
                      Cifrado 1
                    </li>
                  </ol>
                </nav>

                <h2 class="text-white">Cifrado de permutación<br /></h2>

                <div class="d-flex align-items-center mt-5">
                  <a
                    href="#playground"
                    class="btn custom-btn custom-border-btn smoothscroll me-4"
                    >Playground!</a
                  >
                </div>
              </div>

              <div class="col-lg-5 col-12">
                <div class="topics-detail-block bg-white shadow-lg">
                  <img
                    src="../static/images/topics/undraw_Remote_design_team_re_urdx.png"
                    class="topics-detail-block-image img-fluid"
                  />
                </div>
              </div>
            </div>
          </div>
        </header>

        <section class="section-padding section-bg" id="playground">
          <div class="container">
              <div class="row justify-content-center text-center">
                  <div class="col-lg-12 col-12">
                      <h3 class="mb-4 pb-2">Cifrado de permutación</h3>
                  </div>
                  <div class="col-lg-6 col-12">
                    <form id="cipherForm" class="custom-form contact-form">
                      <div class="row gy-4 justify-content-center">
                          <div class="col-lg-12 col-12">
                              <div class="btn-group" role="group">
                                  <input type="radio" class="btn-check" name="action" id="encryptRadio" value="encrypt" checked>
                                  <label class="btn btn-outline-primary rounded-pill px-4 mx-2 custom-radio-btn" for="encryptRadio">Encriptar</label>
                  
                                  <input type="radio" class="btn-check" name="action" id="decryptRadio" value="decrypt">
                                  <label class="btn btn-outline-primary rounded-pill px-4 mx-2 custom-radio-btn" for="decryptRadio">Desencriptar</label>
                              </div>
                          </div>
                  
                          <div class="col-lg-12 col-12">
                              <div class="form-floating">
                                  <textarea class="form-control" id="message" placeholder="Escribe aquí..." required></textarea>
                                  <label for="message">Texto a procesar</label>
                              </div>
                          </div>
                  
                          <div class="col-lg-12 col-12">
                              <div class="form-floating">
                                  <input type="text" class="form-control" id="key" placeholder="Ej: 231" required>
                                  <label for="key">Clave de permutación (ej: 231)</label>
                              </div>
                          </div>
                  
                          <div class="col-lg-4 col-12">
                              <button id="procesarBtn" type="submit" class="form-control btn btn-primary">Procesar</button>
                          </div>
                        </div>
                      </form>
                      <div id="resultado" class="mt-4 p-3 bg-light" style="border-radius: 35px;">
                          <h5>Texto cifrado:</h5>
                          <p id="resultText" class="fw-bold text-primary"></p>
                      </div>
                  </div>
              </div>
          </div>
      </section>
      
      
      <div class="row gy-4 justify-content-center">
        {% if encrypted_message %}
        <div class="col-lg-12 col-12">
          <div class="alert alert-success">
            <strong>Mensaje cifrado:</strong> {{ encrypted_message }}
          </div>
        </div>
        {% endif %}
      </div>

      <section class="topics-detail-section section-padding" id="biblio">
        <div class="container">
          <div class="row">
            <div class="col-lg-8 col-12 m-auto">
              <h3 class="mb-4">Cifrado de permutación</h3>

              <p>
                El cifrado de desplazamiento, también conocido como Cifrado César, es uno de los métodos de cifrado más antiguos y simples. 
                Consiste en sustituir cada letra de un mensaje por otra que se encuentra un número fijo de posiciones más adelante en el alfabeto.

                Por ejemplo, con un desplazamiento de 3 posiciones:

                A → D
                B → E
                C → F
                Hola → Krod
                El receptor del mensaje puede descifrarlo simplemente retrocediendo el mismo número de posiciones en el alfabeto.
              </p>

              <p>
                <strong>Historia del Cifrado César</strong><br>
                El cifrado recibe su nombre del general y político romano Julio César, quien lo utilizaba para enviar mensajes secretos a sus generales. 
                César solía usar un desplazamiento de tres posiciones, lo que garantizaba cierto nivel de seguridad en su época.
                Aunque hoy en día este cifrado es muy fácil de romper con herramientas modernas, sigue siendo un excelente punto de partida para aprender sobre criptografía.
              </p>

              <blockquote>
                Freelancing your skills isn’t going to make you a millionaire
                overnight.
              </blockquote>

              <div class="row my-4">
                <div class="col-lg-6 col-md-6 col-12">
                  <img
                    src="../static/images/businesswoman-using-tablet-analysis.jpg"
                    class="topics-detail-block-image img-fluid"
                  />
                </div>

                <div class="col-lg-6 col-md-6 col-12 mt-4 mt-lg-0 mt-md-0">
                  <img
                    src="../static/images/colleagues-working-cozy-office-medium-shot.jpg"
                    class="topics-detail-block-image img-fluid"
                  />
                </div>
              </div>

              <p>
                Most people start with freelancing skills they already have as a
                side hustle to build up income. This extra cash can be used for
                a vacation, to boost up savings, investing, build business.
              </p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <script src="../static/js/jquery.min.js"></script>
    <script src="../static/js/bootstrap.bundle.min.js"></script>
    <script src="../static/js/jquery.sticky.js"></script>
    <script src="../static/js/custom.js"></script>
  </body>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("cipherForm").addEventListener("submit", async (e) => {
        e.preventDefault();
        
        const message = document.getElementById("message").value;
        const key = document.getElementById("key").value;
        const action = document.querySelector('input[name="action"]:checked').value;
        const resultElement = document.getElementById("resultText");

        try {
            const response = await fetch("/process-permutation", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ 
                    message: message,
                    key: key,
                    action: action,
                    longitud_original: message.length  // Enviar longitud original
                })
            });

            const data = await response.json();
            
            if (!response.ok) throw new Error(data.error || "Error del servidor");
            
            resultElement.textContent = data.result;
            resultElement.classList.remove("text-danger");
            resultElement.classList.add("text-primary");
        } catch (error) {
            resultElement.textContent = `Error: ${error.message}`;
            resultElement.classList.remove("text-primary");
            resultElement.classList.add("text-danger");
            console.error("Error:", error);
        }
      });
    });

    document.addEventListener("DOMContentLoaded", function () {
        const resultadoDiv = document.getElementById("resultado");
        const procesarBtn = document.getElementById("procesarBtn");

        // Ocultar el div al cargar la página
        resultadoDiv.style.display = "none";

        procesarBtn.addEventListener("click", function () {
            // Aquí podrías agregar la lógica para enviar los datos al backend
            // Por ahora, solo mostramos el div de resultado
            resultadoDiv.style.display = "block";
        });
    });
</script>

</html>
